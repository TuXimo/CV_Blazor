@using CV_Blazor.Models
@using CV_Blazor.Components
@using CV_Blazor.Services
@using Microsoft.Extensions.Localization

@inherits LayoutComponentBase
@inject IStringLocalizer<Resources> Localizer
@inject LocalizationService LocService


@code {
    [Parameter] public PortfolioViewModel? Portfolio { get; set; }

    protected override void OnInitialized()
    {
        LocService.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        LocService.OnChange -= StateHasChanged;
    }
}

<section id="resume" class="container py-5">
    <h2 class="text-center mb-4 section-title">@Localizer["nav_Resume"]</h2>
    <div class="row">
        <!-- Professional Experience -->
        <div class="col-md-6 mb-4">
            <h3>@Localizer["rs_xp"]</h3>
            @foreach (var exp in Portfolio.Resume.ProfessionalExperience)
            {
                <div class="card p-3 mb-2">
                    <h5>@exp.Title</h5>
                    <p class="mb-1"><strong>@exp.Company</strong> | @exp.Period</p>
                    <ul class="mb-0">
                        @foreach (var achievement in exp.Achievements)
                        {
                            <li>@achievement</li>
                        }
                    </ul>
                </div>
            }
        </div>

        <!-- Education -->
        <div class="col-md-6 mb-4">
            <h3>@Localizer["rs_education"]</h3>
            @foreach (var edu in Portfolio.Resume.Education)
            {
                <div class="card p-3 mb-2">
                    <h5>@edu.Title</h5>
                    <p class="mb-1"><strong>@edu.Institution</strong> | @edu.Period</p>
                </div>
            }
        </div>
    </div>
</section>
